{"ast":null,"code":"var _jsxFileName = \"/Users/jiun-chiyang/2021_grp_Team07/gui/src/Registration.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass registration extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      displayname: \"\",\n      password: \"\",\n      password2: \"\",\n      usernameError: \"\",\n      displaynameError: \"\",\n      passwordError: \"\",\n      password2Error: \"\",\n      isSubmitted: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.usernameValidation = this.usernameValidation.bind(this);\n    this.displaynameValidation = this.displaynameValidation.bind(this);\n    this.passwordValidation = this.passwordValidation.bind(this);\n    this.matchPassword = this.matchPassword.bind(this);\n    this.isField = this.isField.bind(this);\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n    return;\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let isValid = true;\n    let fieldsList = [\"username\", \"displayname\", \"password\", \"password2\"];\n\n    for (let field in fieldsList) {\n      isValid = this.isField(fieldsList[field]) && isValid;\n    }\n\n    if (isValid) {\n      this.setState({\n        isSubmitted: true\n      });\n    } else {\n      this.setState({\n        isSubmitted: false\n      });\n    }\n\n    return this.state.isSubmitted;\n  }\n\n  isField(field) {\n    let isValid = false;\n\n    switch (field) {\n      case \"username\":\n        isValid = this.usernameValidation();\n        break;\n\n      case \"displayname\":\n        isValid = this.displaynameValidation();\n        break;\n\n      case \"password\":\n        isValid = this.passwordValidation();\n        break;\n\n      case \"password2\":\n        isValid = this.matchPassword();\n        break;\n\n      default:\n    }\n\n    return isValid;\n  }\n\n  usernameValidation() {\n    let usernameError = \"\";\n    const usernameRegex = /^[A-Za-z][\\w]{2,14}[A-Za-z0-9]$/;\n\n    if (this.state.username.trim() === \"\") {\n      usernameError = \"Username required\";\n    } else if (!usernameRegex.test(this.state.username)) {\n      usernameError = \"Username must be 4-16 characters with no space character\";\n    }\n\n    this.setState({\n      usernameError\n    });\n    return usernameError === \"\";\n  }\n\n  displaynameValidation() {\n    let displaynameError = \"\";\n    const displaynameRegex = /^[A-Za-z][\\w]{2,64}[A-Za-z0-9]$/; // need modification\n\n    if (this.state.displayname.trim() === \"\") {\n      displaynameError = \"Displayname required\";\n    } else if (!displaynameRegex.test(this.state.displayname)) {\n      displaynameError = \"Displayname must be 0-64 characters with no space character\";\n    }\n\n    ;\n    this.setState({\n      displaynameError\n    });\n    return displaynameError === \"\";\n  }\n\n  passwordValidation() {\n    let passwordError = \"\";\n    const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,30}$/;\n\n    if (this.state.password.trim === \"\") {\n      passwordError = \"Password required\";\n    } else if (!passwordRegex.test(this.state.password)) {\n      passwordError = \"Password needs to be 8-30 characters including at least 1 digit, 1 upper and 1 lowercase\";\n    }\n\n    this.setState({\n      passwordError\n    });\n    return passwordError === \"\";\n  }\n\n  matchPassword() {\n    let password2Error = \"\";\n    if (this.state.password !== this.state.password2) password2Error = \"Passwords do not match\";\n    this.setState({\n      password2Error\n    });\n    return password2Error === \"\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), this.state.isSubmitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        className: \"complete\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Complete registration!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Username: \", this.state.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Displayname: \", this.state.displayname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          readOnly: true,\n          type: \"text\",\n          placeholder: \"Token\",\n          name: \"token\" //value={ get value from backend }\n          ,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Username\",\n            name: \"username\",\n            value: this.state.username,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), this.state.usernameError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Error\",\n            children: this.state.usernameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Displayname\",\n            name: \"displayname\",\n            value: this.state.displayname,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), this.state.displaynameError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Error\",\n            children: this.state.displaynameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Password\",\n            name: \"password\",\n            value: this.state.password,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), this.state.passwordError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Error\",\n            children: this.state.passwordError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Confirm password\",\n            name: \"password2\",\n            value: this.state.password2,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), this.state.password2Error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Error\",\n            children: this.state.password2Error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default registration;","map":{"version":3,"sources":["/Users/jiun-chiyang/2021_grp_Team07/gui/src/Registration.js"],"names":["React","registration","Component","constructor","state","username","displayname","password","password2","usernameError","displaynameError","passwordError","password2Error","isSubmitted","handleChange","bind","handleSubmit","usernameValidation","displaynameValidation","passwordValidation","matchPassword","isField","e","name","value","target","setState","preventDefault","isValid","fieldsList","field","usernameRegex","trim","test","displaynameRegex","passwordRegex","render","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n\nclass registration extends React.Component {\n\n  constructor() {\n\n    super();\n\n    this.state =\n    {\n      username: \"\",\n      displayname: \"\",\n      password: \"\",\n      password2: \"\",\n      usernameError: \"\",\n      displaynameError: \"\",\n      passwordError: \"\",\n      password2Error: \"\",\n      isSubmitted: false\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.usernameValidation = this.usernameValidation.bind(this);\n    this.displaynameValidation = this.displaynameValidation.bind(this);\n    this.passwordValidation = this.passwordValidation.bind(this);\n    this.matchPassword = this.matchPassword.bind(this);\n    this.isField = this.isField.bind(this);\n  }\n\n\n  handleChange(e) {\n\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n    return;\n  }\n\n\n  handleSubmit(e) {\n\n    e.preventDefault();\n\n    let isValid = true;\n    let fieldsList = [\"username\", \"displayname\", \"password\", \"password2\"];\n\n    for (let field in fieldsList) {\n      isValid = this.isField(fieldsList[field]) && isValid;\n    }\n\n    if (isValid) {\n      this.setState({ isSubmitted: true });\n    } else {\n      this.setState({ isSubmitted: false });\n    }\n\n    return this.state.isSubmitted;\n  }\n\n\n  isField(field) {\n\n    let isValid = false;\n\n    switch (field) {\n      case \"username\":\n        isValid = this.usernameValidation();\n        break;\n      case \"displayname\":\n        isValid = this.displaynameValidation();\n        break;\n      case \"password\":\n        isValid = this.passwordValidation();\n        break;\n      case \"password2\":\n        isValid = this.matchPassword();\n        break;\n      default:\n    }\n\n    return isValid;\n  }\n\n\n  usernameValidation() {\n\n    let usernameError = \"\";\n\n    const usernameRegex = /^[A-Za-z][\\w]{2,14}[A-Za-z0-9]$/;\n\n    if (this.state.username.trim() === \"\") {\n      usernameError = \"Username required\";\n    } else if (!usernameRegex.test(this.state.username)) {\n      usernameError = \"Username must be 4-16 characters with no space character\";\n    }\n\n    this.setState({ usernameError });\n\n    return usernameError === \"\";\n  }\n\n\n  displaynameValidation() {\n\n    let displaynameError = \"\";\n\n    const displaynameRegex = /^[A-Za-z][\\w]{2,64}[A-Za-z0-9]$/; // need modification\n\n    if (this.state.displayname.trim() === \"\") {\n      displaynameError = \"Displayname required\";\n    } else if (!displaynameRegex.test(this.state.displayname)) {\n      displaynameError = \"Displayname must be 0-64 characters with no space character\";\n    };\n\n\n    this.setState({ displaynameError });\n\n    return displaynameError === \"\";\n  }\n\n\n  passwordValidation() {\n\n    let passwordError = \"\";\n    const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,30}$/;\n\n    if (this.state.password.trim === \"\") {\n      passwordError = \"Password required\";\n    } else if (!passwordRegex.test(this.state.password)) {\n      passwordError = \"Password needs to be 8-30 characters including at least 1 digit, 1 upper and 1 lowercase\";\n    }\n\n    this.setState({ passwordError });\n    return passwordError === \"\";\n  }\n\n\n  matchPassword() {\n\n    let password2Error = \"\";\n\n    if (this.state.password !== this.state.password2)\n      password2Error = \"Passwords do not match\";\n\n    this.setState({ password2Error });\n    return password2Error === \"\";\n  }\n\n\n\n\n\n  render() {\n    return (\n      <div className=\"main\" >\n\n        <br />\n        <br />\n\n        {this.state.isSubmitted\n\n          ?\n\n          <div style={{ textAlign: \"center\" }} className=\"complete\">\n            <h3>Complete registration!</h3>\n            <div>Username: {this.state.username}</div>\n            <div>Displayname: {this.state.displayname}</div>\n          </div>\n\n          :\n\n          <div style={{ textAlign: \"center\" }}>\n\n            <input\n              readOnly\n              type=\"text\"\n              placeholder=\"Token\"\n              name=\"token\"\n              //value={ get value from backend }\n              onChange={this.handleChange}\n            />\n\n            <br />\n            <br />\n\n            <form onSubmit={this.handleSubmit} >\n\n              <input\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={this.state.username}\n                onChange={this.handleChange}\n              />\n\n              {this.state.usernameError &&\n                (<div className=\"Error\">{this.state.usernameError}</div>)}\n\n              <br />\n              <br />\n\n              <input\n                type=\"text\"\n                placeholder=\"Displayname\"\n                name=\"displayname\"\n                value={this.state.displayname}\n                onChange={this.handleChange}\n              />\n\n              {this.state.displaynameError &&\n                (<div className=\"Error\">{this.state.displaynameError}</div>)}\n\n              <br />\n              <br />\n\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.handleChange}\n              />\n\n              {this.state.passwordError &&\n                (<div className=\"Error\">{this.state.passwordError}</div>)}\n\n              <br />\n              <br />\n\n              <input\n                type=\"password\"\n                placeholder=\"Confirm password\"\n                name=\"password2\"\n                value={this.state.password2}\n                onChange={this.handleChange}\n              />\n\n              {this.state.password2Error &&\n                (<div className=\"Error\">{this.state.password2Error}</div>)}\n\n              <br />\n              <br />\n\n              <button type=\"submit\" >Register</button>\n\n            </form>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default registration;"]},"metadata":{},"sourceType":"module"}